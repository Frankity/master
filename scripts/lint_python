#!/usr/bin/env sh

COMMAND='pylint'

echo "+++ Installing dependencies +++"
if ! $(which ${COMMAND}); then
  pip install --upgrade pip > /dev/null
  pip install ${COMMAND} > /dev/null
  pip install -r requirements.txt > /dev/null
fi

echo "+++ Running Python linter +++"
for file in $(find -type f -name '*.py' | grep -iv '.env'); do
    ${COMMAND} --errors-only $file;
done
